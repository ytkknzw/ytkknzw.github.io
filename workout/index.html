<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">  
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-title" content="LTX-A" /> 
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">

	<link rel="manifest" href="manifest.json">

	<link rel="stylesheet" href="../assets/lib/onsenui-2.5.2/css/onsenui.css">
	<link rel="stylesheet" href="../assets/lib/onsenui-2.5.2/css/onsen-css-components.css">
	<style>
		#target-date {
			font-size: 20px;
			font-weight: 400;
			background-color: transparent;
			border-style: none;
			color: #fff;
		}
		#cal td {
			width: calc(100% / 7);
			height: 44px;
			text-align: center;
			border-top: solid 1px #eee;
			background-color: #f9f9f9;
		}
		.x { color: #00c; font-weight: bold; }
		#list td {
			text-align: right;
		}
		.event-title {
			/*height: 44px;*/
			font-size: 18px;
			padding: 16px 0 6px 0;
			font-weight: normal;
			text-align: left;
		}
		.part-button {
			float: left;
			width: 80px;
			text-align: center;
			padding: 0; margin: 0;
		}
		.body {
			width: 80px;
		}
		#memo_text:empty + div {
			display: block;
		}
		#memo_text:empty, #memo_text + div {
			display: none;
		}
	</style>

	<script src="../assets/lib/onsenui-2.5.2//js/onsenui.min.js"></script>

	<title>My Workout</title>
</head>
<body>

<ons-navigator id="myNavigator" page="home.html"></ons-navigator>

<ons-template id="home.html">
  <ons-page id="home">
    <ons-toolbar>
      <div class="left">
        <ons-toolbar-button onclick="app.fromTemplate();">
        	<ons-icon icon="navicon"></ons-icon>
        </ons-toolbar-button>
      </div>
      <div class="center">Aug 12, 2017</div>
      <div class="right">
        <ons-toolbar-button onclick="app.goToPage('list');">
        	<ons-icon icon="pencil"></ons-icon> Edit
        </ons-toolbar-button>
      </div>
    </ons-toolbar>

	<table id="cal" style="width: 100%; border-collapse: collapse;">
		<thead>
			<tr style="font-size: 25px; height: 52px; background-color: #f9f9f9;">
				<th colspan="4" id="cal-lbl-ym">August 2017</th>
				<th><ons-icon icon="arrow-left" onclick="calendar.changeMonth(-1)"></ons-icon></th>
				<th><ons-icon icon="circle" onclick="calendar.changeMonth(0)"></ons-icon></th>
				<th><ons-icon icon="arrow-right" onclick="calendar.changeMonth(1)"></ons-icon></th>
			</tr>
			<tr style="height: 32px; background: #eee;">
				<th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th>
			</tr>
		</thead>
		<tbody id="cal-body">
<!-- 			<tr><td class="x">1</td><td>2</td><td>3</td><td class="x">4</td><td>5</td><td>6</td><td>7</td></tr>
			<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
			<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
			<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
			<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
			<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
 -->		</tbody>
	</table>

	<div style="padding: 16px;">
		<div style="font-size: 18px;">Memo</div>
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At perspiciatis possimus ratione fugit ipsa! Deserunt incidunt modi fugit possimus excepturi officia, impedit distinctio vitae eos, qui dicta blanditiis, nostrum cum!</p>

		<table id="list" style="width: 100%;">
			<tbody>
				<tr><th class="event-title" colspan="6">Shoulder Press</th></tr>
				<tr><td>1</td><td><span class="b">45</span> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>540 kg</td></tr>
				<tr><td>2</td><td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>1080 kg</td></tr>

				<tr><th class="event-title" colspan="6">Bench Press</th></tr>
				<tr><td>1</td><td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>540 kg</td></tr>
				<tr><td>2</td><td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>1080 kg</td></tr>

				<tr><th class="event-title" colspan="6">Dumbbell Press</th></tr>
				<tr><td>1</td><td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>540 kg</td></tr>
				<tr><td>2</td><td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>1080 kg</td></tr>
			</tbody>
		</table>
		<div style="height: 256px;">&nbsp;</div>
	</div>
  </ons-page>
</ons-template>


<ons-template id="list.html">
  <ons-page id="list">
    <ons-toolbar>
      <div class="left"><ons-back-button>Back</ons-back-button></div>
      <div class="center">Aug 31, 2017 Edit</div>
      <div class="right">
        <ons-toolbar-button onclick="app.showDialog('dlg-mode');">
        	<ons-icon icon="cog"></ons-icon>
        </ons-toolbar-button>
        <ons-toolbar-button onclick="app.goToPage('events');">
        	<ons-icon icon="plus"></ons-icon>
        </ons-toolbar-button>
      </div>
    </ons-toolbar>

	<div style="padding: 0 16px;">

        <!-- <ons-button onclick="app.goToPage('memo');">Edit Memo</ons-button> -->
        <!-- <ons-button onclick="app.goToPage('events');">Add Event</ons-button> -->
		
		<!-- <div class="event-title">Memo</div> -->
		<!-- <p style="background-color: #ccc; min-height: 32px;"></p> -->
		<div style="margin: 16px 0; padding: 8px; border: dashed 1px #ccc;" onclick="alert(this.innerText)">
			<div id="memo_text"></div>
			<div style="color: #999; outline-style: none;" contenteditable="true">Tap to Edit Memo</div>
		</div>

		<div id="mode_segment" class="segment" style="box-sizing: border-box; width: 100%; margin: 0 auto;">
		  <div class="segment__item">
		    <input type="radio" class="segment__input" name="segment-a" checked>
		    <button class="segment__button">Add</button>
		  </div>
		  <div class="segment__item">
		    <input type="radio" class="segment__input" name="segment-a">
		    <button class="segment__button">Edit</button>
		  </div>
		  <div class="segment__item">
		    <input type="radio" class="segment__input" name="segment-a">
		    <button class="segment__button">Remove</button>
		  </div>
		</div>
		<div>&nbsp;</div>
		<table id="list" style="width: 100%; ">
			<tbody>
				<tr><th class="event-title" colspan="7">Shoulder Press</th>
					<td colspan="2"><ons-icon icon="plus" onclick="app.showDialog('dialog');"></ons-icon></td></tr>
				<tr style="border-bottom: solid 1px #ccc; height: 32px;"><td>1</td>
					<td><big><b>45.00</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>540 kg</td>
					<td><ons-icon icon="edit" onclick="app.showDialog('dialog');"></ons-icon></td></tr>
				<tr style="border-bottom: solid 1px #ccc; height: 32px;"><td>2</td>
					<td><big><b>45.25</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>543 kg</td><td>:</td><td>1083 kg</td>
					<td><ons-icon icon="pencil" onclick="app.showDialog('dialog');"></ons-icon></td></tr>
				<tr><td>&nbsp;</td></tr>

				<tr><th class="event-title" colspan="7">Bench Press</th>
					<td colspan="2"><i class="material-icons">add</i></td></tr>
				<tr><td>1</td>
					<td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>540 kg</td>
					<td><i class="material-icons">edit</i></td></tr>
				<tr><td>2</td>
					<td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>1080 kg</td>
					<td><i class="material-icons">edit</i></td></tr>
				<tr><td>&nbsp;</td></tr>

				<tr><th class="event-title" colspan="7">Dumbbell Press</th>
					<td colspan="2"><i class="material-icons">add</i></td></tr>
				<tr><td>1</td>
					<td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>540 kg</td>
					<td><i class="material-icons">edit</i></td></tr>
				<tr><td>2</td>
					<td><big><b>45</b></big> kg</td><td>&times;</td><td><big><b>12</b></big> reps</td>
					<td>=</td><td>540 kg</td><td>:</td><td>1080 kg</td>
					<td><i class="material-icons">edit</i></td></tr>
				<tr><td>&nbsp;</td></tr>
			</tbody>
		</table>

		<div style="height: 256px;">&nbsp;</div>
	</div>

  </ons-page>
</ons-template>




<ons-template id="events.html">
  <ons-page id="events">
    <ons-toolbar>
      <div class="left"><ons-back-button>Back</ons-back-button></div>
      <div class="center">Aug 31, 2017</div>
    </ons-toolbar>

	<div style="padding: 16px;" id="part-buttons">
		<div class="part-button">
			<i class="material-icons">favorite</i> Favorite</div>

		<div class="part-button">
			<img class="body" src="../assets/img/body/back.jpg" alt="back"> Back</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/chest.jpg" alt=""> Chest</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/abdominal.jpg" alt=""> Abs</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/biceps.jpg" alt=""> Biceps</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/triceps.jpg" alt=""> Triceps</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/shoulder.jpg" alt=""> Shoulder</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/legs.jpg" alt=""> Legs</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/calf.jpg" alt=""> Calf</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/wrist.jpg" alt=""> Wrist</div>
		<div class="part-button">
			<img class="body" src="../assets/img/body/power.jpg" alt=""> Power</div>
	</div>

	<div style="clear: both;"></div>
	<ul class="list">
		<li class="list-item">
			<div class="list-item__center">
				aaa
			</div>
			<div class="list-item__right">
				<img class="list-item__thumbnail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAIAAAADnC86AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwJCB8v/9zErgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAvSURBVFjD7c0BDQAACAMgtX+KJzWGm4MCdJK6MHVELBaLxWKxWCwWi8VisVj8MV7qBgI2A8rYpgAAAABJRU5ErkJggg==">
			</div>
		</li>
		<li class="list-item list-item--tappable">
			<div class="list-item__left">
				<i class="material-icons">checkbox-blank</i>
			</div>
			<label for="s1" class="list-item__center">
			  Checkbox
			</label>
		</li>
  	</ul>

  </ons-page>
</ons-template>



<ons-dialog id="dialog">
  <div class="alert-dialog-container">
	  <div class="alert-dialog-title">ベンチプレス</div>
	  <div class="alert-dialog-content" style="padding: 16px;">
		<input type="number" style="width: 64px; font-size: 18px; text-align: right;" value="45">kg &nbsp;x
		<input type="number" style="width: 32px; font-size: 18px; text-align: right;" value="12" min="1" max="99">reps
	  </div>
	  <div class="alert-dialog-footer alert-dialog-footer--rowfooter">
	    <button class="alert-dialog-button alert-dialog-button--rowfooter" onclick="app.hideDialog('dialog')">Cancel</button>
	    <button class="alert-dialog-button alert-dialog-button--rowfooter alert-dialog-button--primal" onclick="app.hideDialog('dialog')">OK</button>
	  </div>
  </div>
</ons-dialog>


<div style="display: none;" class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-tabs">
    <main class="mdl-layout__content">
			<ul>
				<li><a href="#">胸</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#bench-press">ベンチプレス</a></li>
						<li><a class="wo-list" href="#incline-bench-press">インクラインベンチプレス</a></li>
						<li><a class="wo-list" href="#decline-bench-press">デクラインベンチプレス</a></li>
						<li><a class="wo-list" href="#bent-arm-pull-over">ベントアームプルオーバー</a></li>
					</ul>
					<li class="wo-cat">ダンベル</li>
					<ul>
						<li><a class="wo-list" href="#">ダンベルフライ</a></li>
						<li><a class="wo-list" href="#">インクラインダンベルフライ</a></li>
						<li><a class="wo-list" href="#">ダンベルベンチプレス</a></li>
						<li><a class="wo-list" href="#">インクラインダンベルベンチプレス</a></li>
						<li><a class="wo-list" href="#">ダンベルプルオーバー</a></li>
					</ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">バタフライマシン</a></li>
						<li><a class="wo-list" href="#">ケーブルクロスオーバー</a></li>
					</ul>
					<li class="wo-cat">自重(器具なし)</li>
					<ul>
						<li><a class="wo-list" href="#">ディップス</a></li>
						<li><a class="wo-list" href="#">プッシュアップ</a></li>
					</ul>
				</ul>
				<li><a href="#">背中</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">ベントオーバーローイング</a></li>
						<li><a class="wo-list" href="#">デッドリフト</a></li>
						<li><a class="wo-list" href="#">バックエクステンション</a></li>
						<li><a class="wo-list" href="#">ベンドオーバー</a></li>
						<li><a class="wo-list" href="#">ベントアームプルオーバー</a></li>
					</ul>
					<li class="wo-cat">ダンベル</li>
					<ul>
						<li><a class="wo-list" href="#">ダンベルプルオーバー</a></li>
						<li><a class="wo-list" href="#">ワンハンドローイング</a></li>
					</ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">ラットプルダウン</a></li>
						<li><a class="wo-list" href="#">シーテッドプーリーロー</a></li>
					</ul>
					<li class="wo-cat">自重(器具なし)</li>
					<ul>
						<li><a class="wo-list" href="#">チンニング</a></li>
					</ul>
				</ul>
				<li><a href="#">肩</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">スタンディングロー</a></li>
						<li><a class="wo-list" href="#">バックプレス</a></li>
						<li><a class="wo-list" href="#">フロントプレス</a></li>
						<li><a class="wo-list" href="#">バーベルシュラッグ</a></li>
						<li><a class="wo-list" href="#">ベントオーバーフロントプルアップ</a></li>
						<li><a class="wo-list" href="#">プルアップトゥチェスト</a></li>
					</ul>
					<li class="wo-cat">ダンベル</li>
					<ul>
						<li><a class="wo-list" href="#">サイドレイズ</a></li>
						<li><a class="wo-list" href="#">ダンベルプレス</a></li>
						<li><a class="wo-list" href="#">ベントオーバーラテラル</a></li>
						<li><a class="wo-list" href="#">フロントレイズ</a></li>
						<li><a class="wo-list" href="#">ダンベルシュラッグ</a></li>
						<li><a class="wo-list" href="#">ワンハンドラテラル</a></li>
					</ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">ケーブルサイドレイズ</a></li>
						<li><a class="wo-list" href="#">ケーブルフロントレイズ</a></li>
					</ul>
					<li class="wo-cat">自重(器具なし)</li>
					<ul>
						<li><a class="wo-list" href="#">ハンドスタンドプッシュアップ</a></li>
					</ul>
				</ul>
				<li><a href="#">上腕三頭筋</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">フレンチプレス</a></li>
						<li><a class="wo-list" href="#">トライセプスエクステンション</a></li>
						<li><a class="wo-list" href="#">ナローグリップベンチプレス</a></li>
					</ul>
					<li class="wo-cat">ダンベル</li>
					<ul>
						<li><a class="wo-list" href="#">ワンハンドトライセプスエクステンションスタンディング</a></li>
						<li><a class="wo-list" href="#">ワンハンドトライセプスエクステンションライイング</a></li>
						<li><a class="wo-list" href="#">トライセプスキックバック</a></li>
					</ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">ケーブルトライセプスエクステンション</a></li>
						<li><a class="wo-list" href="#">プレスダウン</a></li>
					</ul>
					<li class="wo-cat">自重(器具なし)</li>
					<ul>
						<li><a class="wo-list" href="#">ナロープッシュアップ</a></li>
						<li><a class="wo-list" href="#">リバースプッシュアップ</a></li>
					</ul>
				</ul>
				<li><a href="#">上腕二頭筋</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">バーベルカール</a></li>
						<li><a class="wo-list" href="#">プリーチャーズベンチカール</a></li>
					</ul>
					<li class="wo-cat">ダンベル</li>
					<ul>
						<li><a class="wo-list" href="#">ダンベルカール</a></li>
						<li><a class="wo-list" href="#">コンセントレーションカール</a></li>
						<li><a class="wo-list" href="#">インクラインカール</a></li>
						<li><a class="wo-list" href="#">ハンマーカール</a></li>
						<li><a class="wo-list" href="#">ライイングダウンカール</a></li>
					</ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">ケーブルカール</a></li>
					</ul>
				</ul>
				<li><a href="#">腹筋</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">プローンローリング</a></li>
					</ul>
					<li class="wo-cat">ダンベル</li>
					<ul>
						<li><a class="wo-list" href="#">サイドベンド</a></li>
					</ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">ケーブルクランチ</a></li>
						<li><a class="wo-list" href="#">ロープクランチ</a></li>
					</ul>
					<li class="wo-cat">自重(器具なし)</li>
					<ul>
						<li><a class="wo-list" href="#">ストレートレッグクランチ</a></li>
						<li><a class="wo-list" href="#">シットアップ</a></li>
						<li><a class="wo-list" href="#">クランチ</a></li>
						<li><a class="wo-list" href="#">ヒップレイズ</a></li>
						<li><a class="wo-list" href="#">レッグレイズ</a></li>
						<li><a class="wo-list" href="#">ハンギングレッグレイズ</a></li>
						<li><a class="wo-list" href="#">ボディアーチ</a></li>
					</ul>
				</ul>
				<li><a href="#">足</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">フルスクワット</a></li>
						<li><a class="wo-list" href="#">ランジ</a></li>
						<li><a class="wo-list" href="#">フロントスクワット</a></li>
						<li><a class="wo-list" href="#">ハックリフト</a></li>
					</ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">レッグプレス</a></li>
						<li><a class="wo-list" href="#">レッグエクステンション</a></li>
						<li><a class="wo-list" href="#">レッグカール</a></li>
					</ul>
					<li class="wo-cat">自重(器具なし)</li>
					<ul>
						<li><a class="wo-list" href="#">ワンレッグスクワット</a></li>
						<li><a class="wo-list" href="#">シッシースクワット</a></li>
					</ul>
				</ul>
				<li><a href="#">ふくらはぎ</a></li>
				<ul>
					<li class="wo-cat">マシン</li>
					<ul>
						<li><a class="wo-list" href="#">カーフレイズオンレッグプレスマシン</a></li>
						<li><a class="wo-list" href="#">ケーブルカール</a></li>
					</ul>
				</ul>
				<li><a href="#">前腕部</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">リストカール</a></li>
						<li><a class="wo-list" href="#">リストカールオンベンチ</a></li>
					</ul>
				</ul>
				<li><a href="#">全身パワー系</a></li>
				<ul>
					<li class="wo-cat">バーベル</li>
					<ul>
						<li><a class="wo-list" href="#">ハイクリーン</a></li>
					</ul>
				</ul>
			</ul>
		</div>

    </main>
</div>

<script src="index.js"></script>
<script src="data.js"></script>
<script>
var nav = document.querySelector('#myNavigator');
var app = {
  goToPage    : function(pageId) { nav.pushPage(pageId + '.html'); },
  showDialog  : function(id) { document.getElementById(id).show(); },
  hideDialog  : function(id) { document.getElementById(id).hide(); },
  fromTemplate : function() {
    var dialog = document.getElementById('dialog-3');
    if (dialog) {
      dialog.show();
    } else {
      ons.createDialog('dialog.html').then(function(dialog) {
        dialog.show();
      });
    }
  },
  createPartButton: function (){
  	var p = {}, img = '', h = '<div class="part-button"><i class="material-icons">favorite</i> Favorite</div>';
  	for(var i=0, l=parts.length; i<l; i++) {
  		p = parts[i];
  		img = p.img_path.split('/')[2];
  		h += '<div class="part-button">'
		  + '<img class="body" src="../assets/img/body/' + img + '" alt="back"> ' + p.en + '</div>';
	}
	var el = document.getElementById('part-buttons');
	console.log(el);
	el.innerHTML = h;
  }
};

window.onload = function() {
	// app.createPartButton();
};

const DAYS_IN_MONTH  = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
const MONTH_EN_SHORT = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

class Calendar {
	constructor(target) {
		this.selectedDate = Date.now();
		this.targetDate = (target ? target : new Date());
		this.y = this.targetDate.getFullYear();
		this.m = this.targetDate.getMonth();

		let body = document.getElementById('cal-body');
		for(let r=0; r<6; r++){
			let tr = document.createElement('tr');
			for(let c=0; c<7; c++){
				let td = document.createElement('td');
				td.addEventListener('click', this.selectDate, false);
				tr.append(td);
			}
			body.append(tr);
		}
	}
	isLeapYear() {
		return ((this.y % 4 == 0) && (this.y % 100 != 0)) || (this.y % 400 == 0)
	}
	changeMonth(n) {
		if(n<-1 || n>1)				{ alert('argument should be -1 or 0 or 1') }
		else if(n==0)				{ this.targetDate = new Date() }
		else if(n==-1 && this.m==0) { this.targetDate = new Date(this.y-1, 11) }
		else if(n==1 && this.m==11) { this.targetDate = new Date(this.y+1,  0) }
		else						{ this.targetDate = new Date(this.y, this.m+n) }

		this.y = this.targetDate.getFullYear();
		this.m = this.targetDate.getMonth();
		document.getElementById('cal-lbl-ym').innerHTML = MONTH_EN_SHORT[this.m] + ' ' + this.y;

		console.log('change month', this.y, this.m);
		// console.log(this.targetDate);
		// console.log(this.targetDate.toLocaleString());
		// console.log(this.targetDate.toLocaleDateString());
		// console.log(this.targetDate.toJSON());

		// this.render();
		let day1st = new Date(this.y, this.m, 1).getDay();
		let days = DAYS_IN_MONTH[this.m] + (this.m==2 ? this.isLeapYear() : 0);
		let rows = Math.ceil((day1st+days)/7);
		console.log('rows', (day1st+days)/7, rows, 'day1st', day1st, (day1st+days));
		let cells = document.querySelectorAll('#cal td');
		// console.log(day1st, cells);
		for(let c = 0; c<42; c++) {
			if(c>=day1st && c<day1st+days) {
				cells[c].innerText = c - day1st + 1;
				// cells[c].addEventListener('click', calendar.selectDate, false);
			} else {
				cells[c].innerText = '';
			}
		}
	}
	selectDate(el) {
		if(el) {
			this.selectedDate = new Date(this.y, this.m, el.innerText);
		}
		console.log(el, el.innerText, this.selectedDate);
	}
	showRecord() {

	}
	render() {
	}
};
var calendar = new Calendar();
calendar.changeMonth(0);
</script>
</body>
</html>